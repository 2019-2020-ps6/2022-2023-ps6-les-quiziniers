<ng-container *ngIf="!quizEnded">
<div class="card" [ngStyle]="{'width': width,'margin-left':margin}">
    <h1 class="question-question">

      <p id="yo" >
      {{question.label}}
       </p>
    </h1>
    <button class="button-card" id="prec" (click)="getPrevious()">
      Précédent
    </button>
    <img class="questionImage" [src]="question.image" alt=""/>
    <button class="button-card" id="suiv" (click)="getNext()">
      Suivant
    </button>
    <p id="points">
      Vous avez {{this.quizOG.points}} points
    </p>

    <table class="tableanswer">
      <td>
    <div class="answer" *ngFor="let answer of question.answers; let i=index "
         (click)="selectAnswer(answer)" [ngClass]="{'correct-answer': isAnswerChecked && answer.isCorrect && answer.isSelected, 'incorrect-answer': isAnswerChecked && !answer.isCorrect, 'notselected': !isQuestionAnswered(), 'selected-answer': answer.isSelected && !hasAnswered}">

          {{i}} - {{answer.value}} <ng-container *ngIf="answer.isCorrect"></ng-container>  <br>
      <!-- <i id='check' class="far fa-check-square" *ngIf="answer.isSelected"></i>-->
  </div>
    </td>
  </table>
  <button class="button-card" id="confirmbutton" (click)="checkAnswer()">
    Valider
  </button>
  <p *ngIf="nextClicked && isAnswerSelected()">
    <i *ngIf="isCorrectSelected()" id = "correct">Bonne réponse !</i>
    <i *ngIf="!isCorrectSelected()" id = "incorrect">Mauvaise réponse !</i>
  </p>
</div>
</ng-container>

<ng-container *ngIf="quizEnded">
<div class="card">
  <h1 class="question-question">
    Résultats
  </h1>
  <table class="tablestats">
    <tr class="tr2">
      <th class="th1">Question</th>
      <th class="th1">Votre réponse</th>
      <th class="th1">Réponse correcte</th>
    </tr>
    <tr *ngFor="let question of quizOG.questions; let i=index" class="tr2">
      <td class="td1">{{i+1}}. {{question.label}}</td>
      <td class="td1">{{getAnswerValue(question)}}</td>
      <td class="td1">{{getCorrectAnswerValue(question)}}</td>
    </tr>
  </table>
  <p>
    Vous avez répondu correctement à {{getCorrectAnswersCount()}} question(s) sur {{quizOG.questions.length}}.
  </p>
  <button class="button-card" id="restartbutton" (click)="restartQuiz()">
    Recommencer
  </button>

  <button class="button-card" id="homebutton" (click)="goHome()">
    Quitter
  </button>
</div>
</ng-container>
